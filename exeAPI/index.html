<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Working on my API Skills</title>
</head>
<body>
    <body>
        <h1>API REST</h1>
        </br>
        <div id="elements"></div>
    </body>
    <script>

        var xmlhttp = new XMLHttpRequest();
        var url = "https://jsonplaceholder.typicode.com/posts";

        xmlhttp.onreadystatechange = function(){

            if(this.readyState ==4 && this.status ==200){
                var myArr = JSON.parse(this.responseText);
                console.log(myArr);

                myApi(myArr);
            }
        };

        xmlhttp.open("GET", url, true);
        xmlhttp.send();

        console.log(xmlhttp);

        //We want to show only the title of the JSON fetched by the API

        function myApi(array){
            var start = "";
            for(var i=0; i<array.length; i++){
                start += array[i].title + "<br>";
                console.log(array[i].title);
            }

            document.getElementById("elements").innerHTML = start
        };


    </script>
</body>
</html>